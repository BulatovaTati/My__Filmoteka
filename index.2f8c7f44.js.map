{"mappings":"iiBAAAA,EAAA,SCAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,0EA6BeE,I,OAAAA,EAAfC,EAAAF,EAAA,CAAAE,EAAAC,GAAAC,MAAA,SAAAC,EAA4BC,G,IAEpBC,EAYEC,EACAC,E,qEAdRH,EAAEI,iBACIH,EAAQD,EAAEK,cAAcC,YAAYL,MAAMM,OAChDC,QAAQC,IAAIR,GACPA,EAAK,C,sBACRS,EAAAC,KAAKC,MAAMX,MAAQ,GACnBS,EAAAC,KAAKE,YAAYC,UAAUC,IAAI,uBAC/BC,YAAW,WACTN,EAAAC,KAAKE,YAAYC,UAAUG,OAAO,sB,GACjC,K,qDAKoB,EAAAC,EAAAC,oBAAmBlB,G,WAApCC,EAAQkB,EAAAC,KAGU,KAFlBlB,EAAWD,EAASoB,SAEbC,OAAY,C,uBACvBb,EAAAC,KAAKC,MAAMX,MAAQ,GACnBS,EAAAC,KAAKE,YAAYC,UAAUC,IAAI,uBAC/BC,YAAW,WACTN,EAAAC,KAAKE,YAAYC,UAAUG,OAAO,sB,GACjC,K,4BAIL,EAAAO,EAAAC,kBAAiBtB,GACjBO,EAAAC,KAAKC,MAAMX,MAAQ,G,kDAEnBO,QAAQC,IAAGW,EAAAM,I,2DA7BYC,MAAAC,KAAAC,U,CAF3BnB,EAAAC,KAAKmB,YAAYC,iBAAiB,U,SAEN/B,G,OAAbL,EAAYgC,MAAAC,KAAAC,U,KAiC3B,EAAAX,EAAAc,aACGC,MAAK,SAAAC,IACJ,EAAAC,EAAAC,cAAa,YAAaF,EAAKG,O,IAEhCC,MAAM9B,QAAQC,K,iCClEjBS,EAAAzB,EAAA,S,cAKA,EAAAyB,EAAAqB,gBAFa,GAGVN,MAAK,SAAAC,IACJ,EAAAV,EAAAC,kBAAiBS,EAAKZ,Q,IAEvBgB,MAAM9B,QAAQC,K","sources":["src/js/main.js","src/js/dom/dom-index.js","src/js/dom/input-search.js","src/js/dom/reanderTranding.js"],"sourcesContent":["import './api/api-index';\nimport './dom/dom-index';\nimport './other/other-index';\nimport './common/common-index';\n\n","import './scrollToTop';\nimport './modal-footer';\nimport './input-search';\n// import './my_library';\nimport './create-movie-markup';\nimport './create-movie-modal-markup';\nimport './changeGenresToName';\nimport './reanderTranding';\n","import { refs } from '../common/refs';\nimport { fetchMovieSearcher, getGenres } from '../api/fetchApi';\nimport { renderCollection } from './create-movie-markup';\nimport { addToStorage } from '../other/localeStorageServices';\n// refs.search_form.addEventListener('submit', e => {\n//   e.preventDefault();\n//   const value = e.currentTarget.searchQuery.value.trim();\n//   console.log(value);\n//   if (value === '') {\n//     refs.input_error.classList.remove('visually-hidden');\n//     setTimeout(() => {\n//       refs.input_error.classList.add('visually-hidden');\n//     }, 3000);\n//     return;\n//   }\n//   fetchMovieSearcher(value)\n//     .then(data => {\n//       renderCollection(data.results);\n//       console.log(data.results);\n//     })\n//     .catch(console.log);\n// });\n\n// getGenres().then(data => {\n//   addToStorage('allGenres', data.genres);\n// });\n\nrefs.search_form.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(e) {\n  e.preventDefault();\n  const value = e.currentTarget.searchQuery.value.trim();\n  console.log(value);\n  if (!value) {\n    refs.input.value = '';\n    refs.input_error.classList.add('visually-show-error');\n    setTimeout(() => {\n      refs.input_error.classList.remove('visually-show-error');\n    }, 3000);\n    return;\n  }\n\n  try {\n    const response = await fetchMovieSearcher(value);\n    const movieArr = response.results;\n\n    if (movieArr.length === 0) {\n      refs.input.value = '';\n      refs.input_error.classList.add('visually-show-error');\n      setTimeout(() => {\n        refs.input_error.classList.remove('visually-show-error');\n      }, 3000);\n      return;\n    }\n    // addToStorage('keyFilm', movieArr);\n    renderCollection(movieArr);\n    refs.input.value = '';\n  } catch (error) {\n    console.log(error);\n  }\n}\n\ngetGenres()\n  .then(data => {\n    addToStorage('allGenres', data.genres);\n  })\n  .catch(console.log);\n","import { getPopularData } from '../api/fetchApi';\nimport { renderCollection } from './create-movie-markup';\n\nconst page = 1;\n\ngetPopularData(page)\n  .then(data => {\n    renderCollection(data.results);\n  })\n  .catch(console.log);\n"],"names":["parcelRequire","$bpxeT","$7b3f3ca7e3dbeee3$var$_onFormSubmit","$parcel$interopDefault","$2TvXO","mark","_callee","e","value","response","movieArr","preventDefault","currentTarget","searchQuery","trim","console","log","$ihtdk","refs","input","input_error","classList","add","setTimeout","remove","$2PzaW","fetchMovieSearcher","_ctx","sent","results","length","$duIyV","renderCollection","t0","apply","this","arguments","search_form","addEventListener","getGenres","then","data","$kZ2no","addToStorage","genres","catch","getPopularData"],"version":3,"file":"index.2f8c7f44.js.map"}