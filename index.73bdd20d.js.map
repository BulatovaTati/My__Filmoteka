{"mappings":"oeAAAA,EAAA,SCAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,uCA2BAC,EAAAC,KAAKC,YAAYC,iBAAiB,UAElCC,eAA4BC,GAC1BA,EAAEC,iBACF,MAAMC,EAAQF,EAAEG,cAAcC,YAAYF,MAAMG,OAEhD,GADAC,QAAQC,IAAIL,IACPA,EAMH,OALAP,EAAAC,KAAKY,MAAMN,MAAQ,GACnBP,EAAAC,KAAKa,YAAYC,UAAUC,IAAI,4BAC/BC,YAAW,KACTjB,EAAAC,KAAKa,YAAYC,UAAUG,OAAO,sBAAsB,GACvD,KAIL,IACE,MACMC,SADiB,EAAAC,EAAAC,oBAAmBd,IAChBe,QAE1B,GAAwB,IAApBH,EAASI,OAMX,OALAvB,EAAAC,KAAKY,MAAMN,MAAQ,GACnBP,EAAAC,KAAKa,YAAYC,UAAUC,IAAI,4BAC/BC,YAAW,KACTjB,EAAAC,KAAKa,YAAYC,UAAUG,OAAO,sBAAsB,GACvD,MAIL,EAAAM,EAAAC,kBAAiBN,GACjBnB,EAAAC,KAAKY,MAAMN,MAAQ,E,CACnB,MAAOmB,GACPf,QAAQC,IAAIc,E,MAIhB,EAAAN,EAAAO,aACGC,MAAKC,KACJ,EAAAC,EAAAC,cAAa,YAAaF,EAAKG,OAAO,IAEvCC,MAAMtB,QAAQC,K,iCClEjBQ,EAAArB,EAAA,S,cAKA,EAAAqB,EAAAc,gBAFa,GAGVN,MAAKC,KACJ,EAAAL,EAAAC,kBAAiBI,EAAKP,QAAQ,IAE/BW,MAAMtB,QAAQC,K","sources":["src/js/main.js","src/js/dom/dom-index.js","src/js/dom/input-search.js","src/js/dom/reanderTranding.js"],"sourcesContent":["import './api/api-index';\nimport './dom/dom-index';\nimport './other/other-index';\nimport './common/common-index';\n\n","import './scrollToTop';\nimport './modal-footer';\nimport './input-search';\n// import './my_library';\nimport './create-movie-markup';\nimport './create-movie-modal-markup';\nimport './changeGenresToName';\nimport './reanderTranding';\n","import { refs } from '../common/refs';\nimport { fetchMovieSearcher, getGenres } from '../api/fetchApi';\nimport { renderCollection } from './create-movie-markup';\nimport { addToStorage } from '../other/localeStorageServices';\n// refs.search_form.addEventListener('submit', e => {\n//   e.preventDefault();\n//   const value = e.currentTarget.searchQuery.value.trim();\n//   console.log(value);\n//   if (value === '') {\n//     refs.input_error.classList.remove('visually-hidden');\n//     setTimeout(() => {\n//       refs.input_error.classList.add('visually-hidden');\n//     }, 3000);\n//     return;\n//   }\n//   fetchMovieSearcher(value)\n//     .then(data => {\n//       renderCollection(data.results);\n//       console.log(data.results);\n//     })\n//     .catch(console.log);\n// });\n\n// getGenres().then(data => {\n//   addToStorage('allGenres', data.genres);\n// });\n\nrefs.search_form.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(e) {\n  e.preventDefault();\n  const value = e.currentTarget.searchQuery.value.trim();\n  console.log(value);\n  if (!value) {\n    refs.input.value = '';\n    refs.input_error.classList.add('visually-show-error');\n    setTimeout(() => {\n      refs.input_error.classList.remove('visually-show-error');\n    }, 3000);\n    return;\n  }\n\n  try {\n    const response = await fetchMovieSearcher(value);\n    const movieArr = response.results;\n\n    if (movieArr.length === 0) {\n      refs.input.value = '';\n      refs.input_error.classList.add('visually-show-error');\n      setTimeout(() => {\n        refs.input_error.classList.remove('visually-show-error');\n      }, 3000);\n      return;\n    }\n    // addToStorage('keyFilm', movieArr);\n    renderCollection(movieArr);\n    refs.input.value = '';\n  } catch (error) {\n    console.log(error);\n  }\n}\n\ngetGenres()\n  .then(data => {\n    addToStorage('allGenres', data.genres);\n  })\n  .catch(console.log);\n","import { getPopularData } from '../api/fetchApi';\nimport { renderCollection } from './create-movie-markup';\n\nconst page = 1;\n\ngetPopularData(page)\n  .then(data => {\n    renderCollection(data.results);\n  })\n  .catch(console.log);\n"],"names":["parcelRequire","$37uNk","refs","search_form","addEventListener","async","e","preventDefault","value","currentTarget","searchQuery","trim","console","log","input","input_error","classList","add","setTimeout","remove","movieArr","$asUcn","fetchMovieSearcher","results","length","$kbfff","renderCollection","error","getGenres","then","data","$cXfU0","addToStorage","genres","catch","getPopularData"],"version":3,"file":"index.73bdd20d.js.map"}